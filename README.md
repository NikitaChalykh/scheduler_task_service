Сервис выполнения задач из очереди
=====

Описание проекта
----------
Проект разворачивается в следующих Docker контейнерах: postgresql-база данных, redis-база данных и один или несколько воркеров для выполнения запланированных задач.

В проекте используется общая очередь задач в Redis, поддерживается работа нескольких отдельных воркеров, для удобства масштабирования.

Настроено логирование ошибок сервиса и сохранение истории выполненных задач со статусами выполнения в БД.

Системные требования
----------

* Python 3.12+
* Docker
* Works on Linux

Стек технологий
----------

* Python 3.12.3
* SQLAlchemy 2.0.38
* alembic 1.14.1
* pydantic 2.10.6
* Postgres 15.2
* Redis 7.2.0
* Docker, Docker Compose

Установка проекта из репозитория
----------
1. Клонирование репозитория:
```bash 
git clone git@github.com:NikitaChalykh/scheduler_task_service.git

cd scheduler_task_service # Переходим в директорию с проектом
```

2. Создайте файл ```.env``` используя ```env.example``` в качестве шаблона

3. Установка и запуск сервиса в контейнере:
```bash 
docker-compose up -d # Для запуска одного воркера

docker-compose up --scale scheduler=2 -d # Для запуска нескольких воркеров (например, двух)
```

4. Просмотр логов:
```bash 
docker exec -it scheduler-service log # Логи при запуске одного воркера

docker exec -it scheduler-service_1 log # Логи при запуске нескольких воркеров (указать номер воркера)
```
