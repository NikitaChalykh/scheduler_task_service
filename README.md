Сервис запуска запланированных задач с общей очередью в redis и несколькими воркерами
=====

Описание проекта
----------
Сервис для периодического выполнения запланированных задач. 
Используется общая очередь задач в Redis, поддерживается работа нескольких отдельных воркеров, для удобства масштабирования.

Системные требования
----------

* Python 3.12+
* Docker
* Works on Linux

Стек технологий
----------

* Python 3.12.3
* SQLAlchemy 2.0.38
* alembic 1.14.1
* Postgres 15.2
* Redis 7.2.0
* Docker

Установка проекта из репозитория
----------
1. Клонирование репозитория:
```bash 
git clone git@github.com/NikitaChalykh/Scheduler.git

cd scheduler/infra # Переходим в директорию с инфраструктурой
```

2. Создайте файл ```.env``` используя ```.env.example``` в качестве шаблона

3. Установка и запуск сервиса в контейнере:
```bash 
docker-compose up -d # Для запуска одного воркера

docker-compose up --scale scheduler=2 -d # Для запуска нескольких воркеров (например, двух)
```

4. Просмотр логов:
```bash 
docker exec -it scheduler-service log # Логи при запуске одного воркера

docker exec -it scheduler-service_1 log # Логи при запуске нескольких воркеров (указать номер воркера)
```
